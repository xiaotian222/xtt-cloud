package xtt.cloud.oa.workflow.infrastructure.cache;

/**
 * 缓存一致性策略
 * 
 * 本模块采用 Cache Aside（旁路缓存）模式保证缓存一致性：
 * 
 * 1. **读操作**：
 *    - 先查缓存，命中则返回
 *    - 缓存未命中，查数据库/远程服务，写入缓存后返回
 * 
 * 2. **写操作**：
 *    - 更新数据库/远程服务
 *    - 删除相关缓存（让下次读取时重新加载）
 * 
 * 3. **事件驱动更新**：
 *    - Platform 服务数据变更时，通过事件通知 Workflow 服务
 *    - Workflow 服务监听事件，主动更新或删除缓存
 * 
 * 4. **缓存失效策略**：
 *    - 直接失效：数据变更时立即删除缓存
 *    - 延迟失效：设置较短的过期时间，依赖 TTL 自动失效
 *    - 版本号机制：缓存中存储版本号，数据变更时版本号递增
 * 
 * @author xtt
 */
public class CacheConsistencyStrategy {
    
    /**
     * 缓存一致性保证方案：
     * 
     * 方案一：Cache Aside（当前实现）
     * - 优点：实现简单，缓存和数据库解耦
     * - 缺点：可能出现短暂的不一致（删除缓存后、下次读取前）
     * - 适用：读多写少的场景
     * 
     * 方案二：Write Through（写透）
     * - 优点：缓存和数据库强一致
     * - 缺点：写操作性能较差，需要同时写缓存和数据库
     * - 适用：写操作频繁且对一致性要求极高的场景
     * 
     * 方案三：事件驱动更新
     * - 优点：解耦，支持多服务缓存同步
     * - 缺点：需要消息中间件，可能存在延迟
     * - 适用：微服务架构，多服务共享缓存
     * 
     * 当前实现：方案一 + 方案三（事件驱动作为补充）
     */
}


